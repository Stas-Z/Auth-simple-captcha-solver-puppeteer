# Автоматическая Авторизация с Решением Капчи

Данный проект реализует автоматизацию авторизации на веб-странице с использованием Puppeteer и решением капчи через сервис [ruCaptcha](https://rucaptcha.com/).

## Описание

Программа выполняет следующие задачи:

1. Открывает браузер и переходит на страницу авторизации.
2. Заполняет поля email и пароля.
3. Решает капчу с помощью API 2Captcha.
4. Отправляет данные формы и проверяет успешность авторизации.

### Основные файлы проекта:

-   **`main.ts`**: Точка входа, запускает приложение.
-   **`services/AuthService.ts`**: Реализует авторизацию и обработку капчи.
-   **`services/CaptchaSolver.ts`**: Решение капчи через API 2Captcha.
-   **`utils/config.ts`**: Конфигурация проекта (URL, селекторы, данные пользователя, ключ API).
-   **`utils/fileUtil.ts`**: Вспомогательная функция для работы с файлами.

## Установка и Запуск

### 1. Установка зависимостей

Перед началом работы установите все зависимости:

```bash
npm install
```

### 2. Настройка проекта

Откройте файл `utils/config.ts` и укажите ваши данные:

-   `loginUrl`: URL страницы авторизации.
-   `selectors`: Селекторы для инпутов и кнопок.
-   `userData.email` и `userData.password`: Данные для входа.
-   `attempts`: Количество попыток для решения капчи.
-   `rucaptchaKey`: Ваш API-ключ для 2Captcha.

### 3. Запуск приложения

Для запуска приложения выполните команду:

```bash
npm run start
```

## Как работает

1. Программа использует Puppeteer для взаимодействия с веб-страницей.
2. Если на странице обнаружена капча:

-   Сохраняет изображение капчи на диск.
-   Отправляет изображение капчи на API ruCaptcha для получения решения.
-   Вводит решение капчи на странице и повторяет попытку, если решение неудачно.

3. После успешного ввода данных и решения капчи отправляет форму.

## Зависимости

-   [Puppeteer](https://pptr.dev/): Управление браузером для автоматизации.
-   [@2captcha/captcha-solver](https://pptr.dev/): Работа с API 2Captcha.
-   `fs`: Работа с файлами.

## Примечания

1. Для успешного выполнения скрипта убедитесь, что:

-   Указанные селекторы в конфигурации соответствуют целевой странице.
-   У вас есть действующий API-ключ ruCaptcha.

2. Для отладки можно включить полный вывод ошибок и логов.
